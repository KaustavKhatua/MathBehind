<!DOCTYPE html>

<head>
    <title>Projection</title>
    <SCRIPT SRC='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></SCRIPT>
    <SCRIPT>MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\\(', '\\)']] } })</SCRIPT>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <style>
        p {
            font-size: 20px;
            font-family: courier, arial, helvetica;
        }

        span {
            font-weight: bold;
        }

        .maincontainer {
            margin-left: 10%;
            margin-right: 10%;
            text-align: justify;
        }
    </style>
</head>

<body>
    <section class="maincontainer">
        <h1 style="margin-top:100px; font-size:50px; font-weight:bold; margin-bottom:10px;">Projection of a Vector on a
            Subspace</h1>
        <hr>
        <p style="margin-top:50px; margin-bottom:40px"><span style="font-size:25px;">Problem:</span> Suppose \(\vec{u}
            \) is an n dimensional vector and we have to calculate the vector projection of \(\vec{u} \) on the vector
            space, \(S \) generated by r independent vectors \(\vec{v}_1, \vec{v}_2, \vec{v}_3, ... , \vec{v}_r \) (r <
                n). </p>
                <p style="margin-top:100px; margin-bottom:30px">
                    <span style="font-weight:bold; font-size:25px">Solution:</span><br>
                    Let the projection vector is \(\vec{v}\). Then clearly \(\vec{v} \) will be some linear combination
                    of \(\vec{v}_1, \vec{v}_2, \vec{v}_3, ... , \vec{v}_r \), ie.
                </p>
                <p style="text-align:center; margin-bottom:70px">
                    \begin{equation}
                    \begin{split}
                    \vec{v} & = c_1\vec{v}_1 + c_2\vec{v}_2 + c_3\vec{v}_3 + ... + c_r\vec{v}_r \\
                     \\
                     & = V.\vec{c}
                    \end{split}
                    \end{equation}
                </p>
                <p>where,</p>
                <p style="text-align:center; margin-bottom:100px; margin-top:20px">\(V = (\vec{v}_1 \hspace{4mm}
                    \vec{v}_2 \hspace{4mm} \vec{v}_3 \hspace{4mm} ... \hspace{4mm} \vec{v}_r)\),
                    \(\vec{c}=
                    \begin{pmatrix}
                    c_1 \\
                    c_2 \\
                    c_3 \\
                    . \\
                    . \\
                    . \\
                    c_r \\
                    \end{pmatrix}\)
                </p>

                <!-- w -->
                <p>Let,</p>
                <p style="text-align:center; margin-bottom:100px;">\(\vec{w}=\vec{u}-\vec{v} \)</p>
                <p>Now, \(\vec{w}\) is orthogonal to every \(v_i, i = 1,...,r\), ie.</p>
                <p>
                    \begin{equation}
                    \begin{split}
                    & \vec{v}_i^T.\vec{w} \hspace{5mm}  = \hspace{5mm} 0 \\
                    \\
                    & \vec{v}_i^T. (\vec{u}-\vec{v}) \hspace{5mm} =\hspace{5mm}0 \\
                    \\
                    & \vec{v}_i^T.\vec{u} \hspace{5mm} = \hspace{5mm} \vec{v}_i^T.v \\
                    \\
                    & \vec{v}_i^T. \vec{u} \hspace{5mm} = \hspace{5mm} \vec{v}_i^T.V.\vec{c}
                    \end{split}
                    \end{equation}
                </p>

                <!-- r equations in r unknowns. -->
                <p>So, we get r equations in r unknowns. Now, if we write all the equations explicitly in matrix form we will get,</p>
                <p style="margin-bottom:40px; margin-top:40px">\begin{equation}
                    \begin{split}
                    & \begin{pmatrix}
                    \vec{v}_1^T.V.\vec{c} \\
                    \vec{v}_2^T.V.\vec{c} \\
                    \vec{v}_3^T.V.\vec{c} \\
                    . \\
                    . \\
                    . \\
                    \vec{v}_r^T.V.\vec{c} \\
                    \end{pmatrix}
                    
                    \hspace{5mm} = \hspace{5mm}
                    
                    \begin{pmatrix}
                    \vec{v}_1^T.\vec{u} \\
                    \vec{v}_2^T.\vec{u} \\
                    \vec{v}_3^T.\vec{u} \\
                    . \\
                    . \\
                    . \\
                    \vec{v}_r^T.\vec{u} \\
                    \end{pmatrix} \\
                    \\
                    & \begin{pmatrix}
                    \vec{v}_1^T \\
                    \vec{v}_2^T \\
                    \vec{v}_3^T \\
                    . \\
                    . \\
                    . \\
                    \vec{v}_r^T \\
                    \end{pmatrix}.V.\vec{c}
                    \hspace{5mm} = \hspace{5mm}
                    
                    \begin{pmatrix}
                    \vec{v}_1^T \\
                    \vec{v}_2^T \\
                    \vec{v}_3^T \\
                    . \\
                    . \\
                    . \\
                    \vec{v}_r^T \\
                    \end{pmatrix}
                    \vec{u} \\
                    \\
                    & V^T.V.\vec{c}=V^T\vec{u} \\
                    \\
                    & \vec{c} = (V^TV)^{-1}V^T\vec{u}
                    \end{split}
                    \end{equation}
                </p>

                <p style="margin-bottom:20px">Now,</p>
                <p style="margin-bottom:30px;">
                    \begin{equation}
                    \begin{split}
                    \vec{v} &= \hspace{3mm} V.\vec{c} \\
                     \\
                     &=\hspace{3mm} V(V^TV)^{-1}V^T\vec{u}
                    \end{split}
                    \end{equation}
                </p>

                <!-- Some special cases -->
                <p style="margin-top:200px; font-size:30px; font-weight:bold; margin-bottom:10px;">Some Special Cases</p><hr>
                <p style="margin-top:40px"><span style="font-weight:bold; margin-left:10px; font-size:25px">1)</span>\(r=1\)
                <p style="margin-left:45px;">Here, \(V=\vec{v}_1\). So, \(V^TV \hspace{5mm} = \hspace{5mm} ||\vec{v}_1||^2 \) and \((V^TV)^{-1}=\frac{1}{||\vec{v}_1||^2}\)</p>
                <p style="margin-left:45px; font-size:25px">\(v=\frac{\vec{v}_1^T\vec{u}}{||\vec{v}_1||^2}.\vec{v}_1\)</p>


                <p style="margin-top:110px; font-size:20px"><span style="font-weight:bold; margin-left:10px; font-size:25px">2)</span> \(\vec{v}_i\)'s are orthgonal.</p>
                <p style="margin-left:45px; margin-top:50px">Here,</p>
                <p style="text-align:center; margin-bottom:50px;">\(V^TV \hspace{5mm} = \hspace{5mm} diag(||\vec{v}_i||^2)\).</p>
                <p style="margin-left:50px">So,</p>
                <p style="text-align:center; margin-bottom:70px;">\((V^TV)^{-1} \hspace{5mm} = \hspace{5mm} diag(\frac{1}{||\vec{v}_i||^2})\)</p>
                <p style="margin-top:70px; margin-bottom:30px; margin-left:48px">Now,</p>
                <p style="text-align:center; margin-bottom:50px">\(\begin{equation}
                    \begin{split}
                    v &= \hspace{5mm} V(V^TV)^{-1}V^Tu \\
                    \\
                     &= V.
                    \begin{pmatrix}
                    \frac{1}{||\vec{v}_1||^2} & 0 & ... & 0 \\
                    0 & \frac{1}{||\vec{v}_2||^2} & ... & 0 \\
                    . & . & ... & . \\
                    . & . & ... & . \\
                    . & . & ... & . \\
                    0 & 0 & ... & \frac{1}{||\vec{v}_r||^2} \\
                    \end{pmatrix}
                    
                    \begin{pmatrix}
                    \vec{v}_1^T \vec{u} \\
                    \vec{v}_2^T \vec{u} \\
                    . \\
                    . \\
                    . \\
                    \vec{v}_r^T \vec{u} \\
                    \end{pmatrix} \\
                    \\
                    & =
                    \begin{pmatrix}\vec{v}_1 & \vec{v}_2 & ... & \vec{v}_r \end{pmatrix}
                    \begin{pmatrix}
                    \frac{\vec{v}_1^Tu}{||\vec{v}_1||^2} \\
                    \frac{\vec{v}_2^Tu}{||\vec{v}_2||^2} \\
                    . \\
                    . \\
                    . \\
                    \frac{\vec{v}_r^Tu}{||\vec{v}_r||^2}
                    \end{pmatrix}
                    \end{split}
                    \end{equation}\)
                </p>
                    
                    <p style="margin-left:48px; margin-bottom:40px">So,</p>
                    
                    <p style="text-align:center; margin-bottom:70px">\(v = \frac{\vec{v}_1^Tu}{||\vec{v}_1||^2}\vec{v}_1 + \frac{\vec{v}_2^Tu}{||\vec{v}_2||^2}\vec{v}_2+...+\frac{\vec{v}_r^Tu}{||\vec{v}_r||^2}\vec{v}_r\)</p>
    </section>
</body>